# ğŸ“¦ æ–‡ä»¶ä¼ è¾“æŒ‡å— - Telegramå½©ç¥¨å°ç¨‹åº

## ğŸ¯ æƒ…å†µè¯´æ˜

**é—®é¢˜:** é¡¹ç›®æ–‡ä»¶åœ¨æˆ‘çš„å·¥ä½œç©ºé—´ `/workspace/telegram-lottery-miniapp/`ï¼Œä½†æ‚¨éœ€è¦éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ `root@iZj6c0wgvce81u5p5jgrd4Z`

**è§£å†³æ–¹æ¡ˆ:** æˆ‘å·²ä¸ºæ‚¨å‡†å¤‡äº†å®Œæ•´çš„é¡¹ç›®æ–‡ä»¶å’Œéƒ¨ç½²æ–¹æ¡ˆ

## ğŸš€ æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: é€šè¿‡GitHubä»“åº“ï¼ˆæ¨èï¼‰

**æ­¥éª¤1: æˆ‘å°†ä¸ºæ‚¨æ¨é€åˆ°GitHub**

```bash
# æˆ‘å°†åœ¨ä¸‹ä¸€æ­¥æ¨é€åˆ°GitHubï¼Œæ‚¨åªéœ€ï¼š
cd /root
git clone [GitHubä»“åº“åœ°å€] telegram-lottery-miniapp
cd telegram-lottery-miniapp
bash é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½².sh
```

**ä¼˜ç‚¹:** ç®€å•å¯é ï¼Œå¯ä»¥ç‰ˆæœ¬æ§åˆ¶ï¼Œéšæ—¶æ›´æ–°
**ç¼ºç‚¹:** éœ€è¦GitHubä»“åº“

### æ–¹æ¡ˆ2: æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼ˆå¤‡é€‰ï¼‰

å¦‚æœæ‚¨æ— æ³•ä½¿ç”¨GitHubï¼Œæˆ‘å¯ä»¥æä¾›æ‰€æœ‰æ–‡ä»¶çš„è¯¦ç»†å†…å®¹ï¼Œæ‚¨æ‰‹åŠ¨åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºã€‚

## ğŸ“‹ é¡¹ç›®æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶åˆ—è¡¨

```
telegram-lottery-miniapp/
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ next.config.js              # Next.jsé…ç½®
â”œâ”€â”€ tailwind.config.js          # Tailwind CSSé…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScripté…ç½®
â”œâ”€â”€ jest.config.js              # æµ‹è¯•é…ç½®
â”œâ”€â”€ .env.local                  # ç¯å¢ƒå˜é‡ï¼ˆéœ€è¦æ‚¨å¡«å†™ï¼‰
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # åº”ç”¨å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx                # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css             # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ admin/                  # ç®¡ç†åå°
â”‚   â”œâ”€â”€ api/                    # APIæ¥å£
â”‚   â”œâ”€â”€ profile/                # ç”¨æˆ·èµ„æ–™
â”‚   â”œâ”€â”€ orders/                 # è®¢å•é¡µé¢
â”‚   â”œâ”€â”€ posts/                  # å¸–å­é¡µé¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/                 # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ProductCard.tsx         # äº§å“å¡ç‰‡
â”‚   â”œâ”€â”€ UserBalance.tsx         # ç”¨æˆ·ä½™é¢
â”‚   â”œâ”€â”€ Navigation.tsx          # å¯¼èˆªç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                        # å·¥å…·åº“
â”‚   â”œâ”€â”€ supabase.ts             # Supabaseå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ telegram.ts             # Telegramé›†æˆ
â”‚   â””â”€â”€ utils.ts                # å·¥å…·å‡½æ•°
â”œâ”€â”€ hooks/                      # è‡ªå®šä¹‰Hook
â”‚   â””â”€â”€ useTelegram.ts          # Telegram Hook
â”œâ”€â”€ types/                      # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ database.ts             # æ•°æ®åº“ç±»å‹
â””â”€â”€ docs/                       # æ–‡æ¡£
    â”œâ”€â”€ API.md                  # APIæ–‡æ¡£
    â””â”€â”€ DEPLOYMENT.md           # éƒ¨ç½²æ–‡æ¡£
```

## ğŸ”§ å¿«é€Ÿéƒ¨ç½²ï¼ˆå¦‚æœé€‰æ‹©æ–¹æ¡ˆ2ï¼‰

### ç¬¬1æ­¥: åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºç›®å½•
```bash
mkdir -p /root/telegram-lottery-miniapp
cd /root/telegram-lottery-miniapp
```

### ç¬¬2æ­¥: æ ¸å¿ƒæ–‡ä»¶åˆ›å»º

æˆ‘å°†ä¸ºæ‚¨æä¾›æ‰€æœ‰å…³é”®æ–‡ä»¶çš„å†…å®¹ï¼Œæ‚¨å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°æœåŠ¡å™¨ä¸Šã€‚

### ç¬¬3æ­¥: è¿è¡Œéƒ¨ç½²è„šæœ¬
```bash
bash é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½².sh
```

## ğŸ“ å…³é”®æ–‡ä»¶å†…å®¹

### 1. package.json
```json
{
  "name": "telegram-lottery-miniapp",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev -p 3000",
    "build": "next build",
    "start": "next start -p 3000",
    "lint": "next lint",
    "type-check": "tsc --noEmit",
    "test": "jest"
  },
  "dependencies": {
    "next": "^14.2.33",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@supabase/supabase-js": "^2.39.0",
    "@telegram-apps/sdk": "^1.1.0",
    "clsx": "^2.1.0",
    "tailwind-merge": "^2.2.0",
    "@radix-ui/react-dialog": "^1.0.5",
    "lucide-react": "^0.344.0"
  },
  "devDependencies": {
    "@types/jest": "^29.5.5",
    "@types/node": "^20.0.0",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@testing-library/jest-dom": "^6.1.4",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^14.5.1",
    "eslint": "^8.57.0",
    "eslint-config-next": "^14.2.33",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "postcss": "^8.4.0",
    "tailwindcss": "^3.4.0",
    "typescript": "^5.0.0"
  }
}
```

### 2. .env.local æ¨¡æ¿
```bash
# Supabaseé…ç½® - è¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å€¼
NEXT_PUBLIC_SUPABASE_URL=æ‚¨çš„Supabaseé¡¹ç›®URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=æ‚¨çš„SupabaseåŒ¿åå¯†é’¥

# Telegram Boté…ç½®ï¼ˆå¯é€‰ï¼‰
NEXT_PUBLIC_TELEGRAM_BOT_TOKEN=æ‚¨çš„Telegram Bot Token

# åº”ç”¨é…ç½®
NODE_ENV=production
PORT=3000
```

### 3. next.config.js
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    appDir: true,
  },
  output: 'standalone',
  images: {
    domains: ['your-domain.com'],
  },
  env: {
    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL,
    NEXT_PUBLIC_SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,
  },
}

module.exports = nextConfig
```

## ğŸ” æ–‡ä»¶ä¼ è¾“çŠ¶æ€

### âœ… å·²å‡†å¤‡çš„æ–‡ä»¶
- [x] é¡¹ç›®æºä»£ç æ–‡ä»¶
- [x] é…ç½®æ–‡ä»¶ï¼ˆpackage.json, tsconfig.jsonç­‰ï¼‰
- [x] éƒ¨ç½²è„šæœ¬ï¼ˆé˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½².shï¼‰
- [x] å®Œæ•´éƒ¨ç½²æŒ‡å—
- [x] ç¯å¢ƒå˜é‡æ¨¡æ¿

### ğŸ“¦ å¾…ä¼ è¾“çš„å†…å®¹
ç”±äºæˆ‘æ— æ³•ç›´æ¥ä¼ è¾“æ–‡ä»¶åˆ°æ‚¨çš„æœåŠ¡å™¨ï¼Œéœ€è¦æ‚¨ï¼š

1. **é€‰æ‹©ä¼ è¾“æ–¹å¼:**
   - [ ] é€šè¿‡GitHubä»“åº“
   - [ ] æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶ï¼ˆæˆ‘æä¾›æ‰€æœ‰å†…å®¹ï¼‰
   - [ ] é€šè¿‡åœ¨çº¿æ–‡ä»¶å…±äº«

2. **è·å–æ‰€æœ‰æ–‡ä»¶å†…å®¹:**
   æˆ‘å¯ä»¥æä¾›æ¯ä¸ªæ–‡ä»¶çš„å®Œæ•´ä»£ç ï¼Œæ‚¨å¯ä»¥é€ä¸€åˆ›å»ºã€‚

## ğŸ¯ æ¨èæ“ä½œæµç¨‹

### å¦‚æœé€‰æ‹©GitHubï¼ˆæœ€å¿«ï¼‰ï¼š
1. æˆ‘æ¨é€ä»£ç åˆ°GitHub
2. æ‚¨ï¼š`git clone [ä»“åº“åœ°å€]`
3. è¿è¡Œï¼š`bash é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½².sh`

### å¦‚æœé€‰æ‹©æ‰‹åŠ¨åˆ›å»ºï¼š
1. æˆ‘æä¾›æ‰€æœ‰æ–‡ä»¶å†…å®¹
2. æ‚¨åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæ–‡ä»¶
3. è¿è¡Œï¼š`bash é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½².sh`

## ğŸ“ ä¸‹ä¸€æ­¥

è¯·å‘Šè¯‰æˆ‘æ‚¨åå¥½å“ªç§æ–¹å¼ï¼š

1. **GitHubæ–¹å¼** - æˆ‘ç«‹å³æ¨é€åˆ°GitHub
2. **æ‰‹åŠ¨åˆ›å»º** - æˆ‘æä¾›æ‰€æœ‰æ–‡ä»¶å†…å®¹
3. **å…¶ä»–æ–¹å¼** - æ‚¨æœ‰å…¶ä»–æƒ³æ³•

ç¡®è®¤åæˆ‘å°†ç«‹å³æ‰§è¡Œï¼

---

**ğŸ’¡ å°æç¤º:** æ‰€æœ‰ä»£ç å·²ç»è¿‡æµ‹è¯•å’Œä¿®å¤ï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²ä½¿ç”¨ã€‚