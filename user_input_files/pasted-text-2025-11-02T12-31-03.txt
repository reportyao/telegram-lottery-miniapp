chmod: cannot access 'final_verify.sh': No such file or directory
root@iZj6c0wgvce81u5p5jgrd4Z:~/telegram-lottery-miniapp# # åˆ›å»ºéªŒè¯è„šæœ¬å¹¶ç«‹å³æ‰§è¡Œ
cat > ~/verify_app.sh << 'VERIFY_EOF'
#!/bin/bash

echo "=== Telegram å½©ç¥¨å°ç¨‹åºéªŒè¯æŠ¥å‘Š ==="
echo "ç”Ÿæˆæ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')"
echo ""

# é¢œè‰²å®šä¹‰  
GREEN='\033[0;32m'
RED='\033[0;31m'
YELLOW='\033[1;33m'
NC='\033[0m'

echo "ğŸ“‹ éªŒè¯é¡¹ç›®:"
echo "1. ç¯å¢ƒå˜é‡æ–‡ä»¶æ£€æŸ¥"
echo "2. åº”ç”¨è¿›ç¨‹çŠ¶æ€"  
echo "3. ç«¯å£ç›‘å¬çŠ¶æ€"
echo "4. APIè¿é€šæ€§æµ‹è¯•"
echo "5. ç®¡ç†å‘˜é¢æ¿è®¿é—®"
echo ""

echo "=== 1. ç¯å¢ƒå˜é‡æ–‡ä»¶æ£€æŸ¥ ==="
if [ -f ".env.local" ]; then
    echo -e "${GREEN}âœ… .env.local æ–‡ä»¶å­˜åœ¨${NC}"
    echo "ç¯å¢ƒå˜é‡å†…å®¹:"
    cat .env.local
    echo ""
else
    echo -e "${RED}âŒ .env.local æ–‡ä»¶ä¸å­˜åœ¨${NC}"
    echo "ğŸ’¡ æ­£åœ¨åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶..."
    cat > .env.local << 'ENVEOF'
NEXT_PUBLIC_SUPABASE_URL=https://mftfgofnosakobjfpzss.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1mdGZnb2Zub3Nha29iamZwenNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwNDM4OTgsImV4cCI6MjA3NzYxOTg5OH0.9TYA-VqkitQayTkS4IXwOW4aqQ3aa2UKPH2IqBddbJ8
ENVEOF
    echo -e "${GREEN}âœ… ç¯å¢ƒå˜é‡æ–‡ä»¶å·²åˆ›å»º${NC}"
fi
echo ""

echo "=== 2. åº”ç”¨è¿›ç¨‹çŠ¶æ€ ==="
npm_process=$(ps aux | grep "npm run dev" | grep -v grep)
if [ ! -z "$npm_process" ]; then
    echo -e "${GREEN}âœ… npm å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ${NC}"
    echo "è¿›ç¨‹ä¿¡æ¯:"
    ps aux | grep "npm run dev" | grep -v grep
    npm_pid=$(ps aux | grep "npm run dev" | grep -v grep | awk '{print $2}' | head -1)
    echo "è¿›ç¨‹ID: $npm_pid"
else
    echo -e "${RED}âŒ npm å¼€å‘æœåŠ¡å™¨æœªè¿è¡Œ${NC}"
    echo "ğŸ’¡ æ­£åœ¨å¯åŠ¨åº”ç”¨..."
    nohup npm run dev >> app.log 2>&1 &
    sleep 5
    echo "åº”ç”¨å·²å¯åŠ¨"
fi
echo ""

echo "=== 3. ç«¯å£ç›‘å¬çŠ¶æ€ ==="
port_3000=$(netstat -tlnp 2>/dev/null | grep ":3000" || ss -tlnp 2>/dev/null | grep ":3000")
if [ ! -z "$port_3000" ]; then
    echo -e "${GREEN}âœ… ç«¯å£ 3000 æ­£åœ¨ç›‘å¬${NC}"
    echo "ç«¯å£ç›‘å¬ä¿¡æ¯:"
    netstat -tlnp 2>/dev/null | grep ":3000" || ss -tlnp 2>/dev/null | grep ":3000"
else
    echo -e "${RED}âŒ ç«¯å£ 3000 æœªç›‘å¬${NC}"
    echo "ğŸ’¡ ç­‰å¾…åº”ç”¨å¯åŠ¨..."
    sleep 5
chmod +x ~/verify_app.sh && ~/verify_app.shä¸€æ­¥æ’æŸ¥${NC}"{NC}" "NC}"t http://localhost:3000/admin 2>/dev/null)v/null)
=== Telegram å½©ç¥¨å°ç¨‹åºéªŒè¯æŠ¥å‘Š ===
ç”Ÿæˆæ—¶é—´: 2025-11-02 17:30:36

ğŸ“‹ éªŒè¯é¡¹ç›®:
1. ç¯å¢ƒå˜é‡æ–‡ä»¶æ£€æŸ¥
2. åº”ç”¨è¿›ç¨‹çŠ¶æ€
3. ç«¯å£ç›‘å¬çŠ¶æ€
4. APIè¿é€šæ€§æµ‹è¯•
5. ç®¡ç†å‘˜é¢æ¿è®¿é—®

=== 1. ç¯å¢ƒå˜é‡æ–‡ä»¶æ£€æŸ¥ ===
âŒ .env.local æ–‡ä»¶ä¸å­˜åœ¨
ğŸ’¡ æ­£åœ¨åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶...
âœ… ç¯å¢ƒå˜é‡æ–‡ä»¶å·²åˆ›å»º

=== 2. åº”ç”¨è¿›ç¨‹çŠ¶æ€ ===
âœ… npm å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
è¿›ç¨‹ä¿¡æ¯:
root      274480  0.0  1.4 1091204 53152 pts/1   Sl   17:23   0:00 npm run dev
root      294955  0.0  1.7 1099892 61432 ?       Ssl  17:30   0:00 npm run dev -p 3000
è¿›ç¨‹ID: 274480

=== 3. ç«¯å£ç›‘å¬çŠ¶æ€ ===
âœ… ç«¯å£ 3000 æ­£åœ¨ç›‘å¬
ç«¯å£ç›‘å¬ä¿¡æ¯:
tcp6       0      0 :::3000                 :::*                    LISTEN      273103/next-server  

=== 4. APIè¿é€šæ€§æµ‹è¯• ===
æ­£åœ¨æµ‹è¯• get-products API...
âŒ API æµ‹è¯•å¤±è´¥ (HTTP 404)
API å“åº”å†…å®¹:
<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/app/layout.css?v=1762086636952" data-precedence="next_static/css/app/layout.css"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack.js?v=1762086636952"/><script src="/_next/static/chunks/main-app.js?v=1762086636952" async=""></script><script src="/_next/static/chunks/app-pages-internals.js" async=""></script><script src="/_next/static/chunks/app/layout.js" async=""></script><meta name="robots" content="noindex"/><title>404: This page could not be found.</title><title>LuckyMart TJ - å¹¸è¿é›†å¸‚</title><meta name="description" content="åŸºäºTelegramçš„ä¸€å…ƒå¤ºå®ç”µå•†å¹³å°"/><script src="/_next/static/chunks/polyfills.js" noModule=""></script></head><body class="antialiased"><div style="font-family:system-ui,&quot;Segoe UI&quot;,Roboto,Helvetica,Arial,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;;height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center"><div><style>body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}</style><h1 class="next-error-h1" style="display:inline-block;margin:0 20px 0 0;padding:0 23px 0 0;font-size:24px;font-weight:500;vertical-align:top;line-height:49px">404</h1><div style="display:inline-block"><h2 style="font-size:14px;font-weight:400;line-height:49px;margin:0">This page could not be found.</h2></div></div></div><script src="/_next/static/chunks/webpack.js?v=1762086636952" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/app/layout.css?v=1762086636952\",\"style\"]\n0:D{\"name\":\"r2\",\"env\":\"Server\"}\n"])</script><script>self.__next_f.push([1,"2:I[\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\",[\"app-pages-internals\",\"static/chunks/app-pages-internals.js\"],\"\"]\n5:I[\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\",[\"app-pages-internals\",\"static/chunks/app-pages-internals.js\"],\"\"]\n6:I[\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\",[\"app-pages-internals\",\"static/chunks/app-pages-internals.js\"],\"\"]\n8:I[\"(app-pages-browser)/./components/ErrorBoundary.tsx\",[\"app/layout\",\"static/chunks/app/layout.js\"],\"default\"]\n9:I[\"(app-pages-browser)/./contexts/LanguageContext.tsx\",[\"app/layout\",\"static/chunks/app/layout.js\"],\"LanguageProvider\"]\n11:I[\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\",[\"app-pages-internals\",\"static/chunks/app-pages-internals.js\"],\"\"]\n3:D{\"name\":\"\",\"env\":\"Server\"}\n4:D{\"name\":\"NotFound\",\"env\":\"Server\"}\n4:[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]\n7:D{\"name\":\"RootLayout\",\"env\":\"Server"])</script><script>self.__next_f.push([1,"\"}\na:D{\"name\":\"NotFound\",\"env\":\"Server\"}\nb:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\nc:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\nd:{\"display\":\"inline-block\"}\ne:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\na:[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$b\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$c\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$d\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$e\",\"children\":\"This page could not be found.\"}]}]]}]}]]\n7:[\"$\",\"html\",null,{\"lang\":\"zh\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L8\",null,{\"children\":[\"$\",\"$L9\",null,{\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$a\",\"notFoundStyles\":[]}]}]}]}]}]\nf:D{\"name\":\"rQ\",\"env\":\"Server\"}\nf:[\"$\",\"meta\",null,{\"name\":\"robots\",\"content\":\"noindex\"}]\n10:D{\"name\":\"\",\"env\":\"Server\"}\n12:[]\n0:[\"$\",\"$L2\",null,{\"buildId\":\"development\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"api\",\"get-products\"],\"initialTree\":[\"\",{\"children\":[\"/_not-found\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"/_not-found\",{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$4\",null],null],null]},[null,[\"$\",\"$L"])</script><script>self.__next_f.push([1,"5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"/_not-found\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L6\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/app/layout.css?v=1762086636952\",\"precedence\":\"next_static/css/app/layout.css\",\"crossOrigin\":\"$undefined\"}]],\"$7\"],null],null],\"couldBeIntercepted\":false,\"initialHead\":[\"$f\",\"$L10\"],\"globalErrorComponent\":\"$11\",\"missingSlots\":\"$W12\"}]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"LuckyMart TJ - å¹¸è¿é›†å¸‚\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"åŸºäºTelegramçš„ä¸€å…ƒå¤ºå®ç”µå•†å¹³å°\"}]]\n3:null\n"])</script></body></html>
=== 5. ç®¡ç†å‘˜é¢æ¿è®¿é—®æµ‹è¯• ===
æ­£åœ¨æµ‹è¯•ç®¡ç†å‘˜é¢æ¿...
âœ… ç®¡ç†å‘˜é¢æ¿å¯è®¿é—® (HTTP 200)

=== éªŒè¯æ€»ç»“ ===
é€šè¿‡æ£€æŸ¥: 3/4
âš ï¸ éƒ¨åˆ†æ£€æŸ¥é€šè¿‡ï¼Œåº”ç”¨å¯èƒ½æ­£åœ¨å¯åŠ¨ä¸­
ç­‰å¾…30ç§’åå†æ¬¡è¿è¡ŒéªŒè¯

=== å®æ—¶æ—¥å¿—æŸ¥çœ‹ ===
æœªæ‰¾åˆ° app.log æ–‡ä»¶

âœ… éªŒè¯è„šæœ¬æ‰§è¡Œå®Œæˆï¼
root@iZj6c0wgvce81u5p5jgrd4Z:~/telegram-lottery-miniapp# 